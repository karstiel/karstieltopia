{"id":406,"date":"2013-09-11T14:21:51","date_gmt":"2013-09-11T14:21:51","guid":{"rendered":"http:\/\/karstieltopia.com\/?p=406"},"modified":"2013-09-11T14:21:51","modified_gmt":"2013-09-11T14:21:51","slug":"variables-personalizadas-en-google-analytics","status":"publish","type":"post","link":"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/","title":{"rendered":"Variables personalizadas en Google Analytics"},"content":{"rendered":"<p>Si quieres tener variables personalizadas (Custom Vars) en Google Analytics con los que seguir una serie de variables creadas totalmente por nosotros, es bastante sencillo.<\/p>\n<p>Realmente tan sencillo como poner algo como el siguiente ejemplo en vuestra p\u00e1gina:<\/p>\n<pre class=\"brush: jscript; title: ; notranslate\" title=\"\">\r\n\r\nvar _gaq = _gaq || [];\r\n\r\n_gaq.push(['_setAccount', XXXXXXXX']);\r\n_gaq.push(['_setCustomVar', 1, 'name', 'value', 1]);\r\n\r\n_gaq.push(['_trackPageview']);\r\n\r\n(function() {\r\n var ga = document.createElement('script'); ga.type = 'text\/javascript'; ga.async = true;\r\n ga.src = ('https:' == document.location.protocol ? 'https:\/\/ssl' : 'http:\/\/www') + '.google-analytics.com\/ga.js';\r\n var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\r\n})();\r\n\r\n<\/pre>\n<p>A partir de aqu\u00ed solo tenemos que saber lo siguiente.<\/p>\n<ol>\n<li><span style=\"line-height: 13px;\">Tenemos que tener una cuenta de Google Analytics, la cu\u00e1l se pondr\u00e1 en sustituci\u00f3n de las XXXXXX (generalmente siguen el patr\u00f3n UA-&lt;numero&gt;-1)<\/span><\/li>\n<li>Pondremos todas las variables personalizadas que querramos, teniendo en cuenta lo siguientes par\u00e1metros de la funci\u00f3n:\n<ol>\n<li><strong>&#8216;_setCustomVar&#8217;<\/strong>: este par\u00e1metro es fijo y es el nombre de la funci\u00f3n de la API a la que llamamos<\/li>\n<li><strong>N\u00famero de slot<\/strong>: podemos poner el slot que querramos usar, teniendo en cuenta que solo tenemos 5 slots libres si usamos una cuenta gratuita de Google.<\/li>\n<li><strong>Nombre de la variable customizada<\/strong>: podemos poner el nombre que querramos a la variable y que aparecer\u00e1 en el panel de Google Analytics.<\/li>\n<li><strong>Valor de la variable customizada<\/strong>: aqu\u00ed le pondremos el valor que querramos a esa variable que hemos definido anteriormente.<\/li>\n<li><strong>\u00c1mbito de la variable customizada<\/strong>: aqu\u00ed definimos el \u00e1mbito que tendr\u00e1 nuestra variable pudiendo ser 1 (<em>nivel visitante<\/em>, y ser\u00e1 al mismo nivel que la cookie <em>_utma<\/em>; un ejemplo cl\u00e1sico de uso ser\u00eda el contrastar usuarios registrados versus no registrados con alg\u00fan comportamiento), 2 (<em>nivel sesi\u00f3n<\/em>, con ejemplo cl\u00e1sico de ver login con ciertas caracter\u00edsticas) y 3 (<em>nivel de p\u00e1gina<\/em>, con ejemplo cl\u00e1sico de ver que p\u00e1ginas son m\u00e1s visitadas guardando alguna variable al hacerlo), siendo un par\u00e1metro opcional y si se deja vac\u00edo por defecto ser\u00e1 a nivel de p\u00e1gina.<\/li>\n<\/ol>\n<\/li>\n<li>Y una \u00faltima nota importante, el\u00a0<strong>_trackPageview<\/strong> tiene que ser llamado siempre despu\u00e9s de las variables personalizadas<\/li>\n<\/ol>\n<p>Una vez hechos estos cambios, y con algo de paciencia dado que puede tardar bastante en aparecer los cambios en Google Analytics, todo deber\u00eda fluir como la seda.<\/p>\n<p><strong>Extra:<\/strong> Si algo no va bien y queremos ver que est\u00e1 pasando con Analytics, hay una extensi\u00f3n para Chrome que, viendo la consola de desarrollador, nos va contando lo que se va mandando a Google Analytics y puede servir para dar pistas de si todo va bien o no. La extensi\u00f3n en cuesti\u00f3n se llama <a href=\"https:\/\/chrome.google.com\/webstore\/detail\/google-analytics-debugger\/jnkmfdileelhofjcijamephohjechhna\">Google Analytics Debugger<\/a>.<\/p>\n<p><strong>Links<\/strong><\/p>\n<p><a href=\"https:\/\/developers.google.com\/analytics\/devguides\/collection\/gajs\/gaTrackingCustomVariables\">https:\/\/developers.google.com\/analytics\/devguides\/collection\/gajs\/gaTrackingCustomVariables<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Si quieres tener variables personalizadas (Custom Vars) en Google Analytics con los que seguir una serie de variables creadas totalmente por nosotros, es bastante sencillo. Realmente tan sencillo como poner algo como el siguiente ejemplo en vuestra p\u00e1gina: A partir de aqu\u00ed solo tenemos que saber lo siguiente. Tenemos que tener una cuenta de Google [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[923],"tags":[95,96,94],"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v15.1.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Variables personalizadas en Google Analytics - Karstieltopia<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Variables personalizadas en Google Analytics - Karstieltopia\" \/>\n<meta property=\"og:description\" content=\"Si quieres tener variables personalizadas (Custom Vars) en Google Analytics con los que seguir una serie de variables creadas totalmente por nosotros, es bastante sencillo. Realmente tan sencillo como poner algo como el siguiente ejemplo en vuestra p\u00e1gina: A partir de aqu\u00ed solo tenemos que saber lo siguiente. Tenemos que tener una cuenta de Google [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/\" \/>\n<meta property=\"og:site_name\" content=\"Karstieltopia\" \/>\n<meta property=\"article:published_time\" content=\"2013-09-11T14:21:51+00:00\" \/>\n<meta name=\"twitter:card\" content=\"summary\" \/>\n<meta name=\"twitter:creator\" content=\"@karstiel\" \/>\n<meta name=\"twitter:site\" content=\"@karstiel\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebSite\",\"@id\":\"http:\/\/karstieltopia.com\/#website\",\"url\":\"http:\/\/karstieltopia.com\/\",\"name\":\"Karstieltopia\",\"description\":\"Programaci\\u00f3n, tecnolog\\u00eda y a\\u00f1adidos\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"http:\/\/karstieltopia.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"es\"},{\"@type\":\"WebPage\",\"@id\":\"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/#webpage\",\"url\":\"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/\",\"name\":\"Variables personalizadas en Google Analytics - Karstieltopia\",\"isPartOf\":{\"@id\":\"http:\/\/karstieltopia.com\/#website\"},\"datePublished\":\"2013-09-11T14:21:51+00:00\",\"dateModified\":\"2013-09-11T14:21:51+00:00\",\"author\":{\"@id\":\"http:\/\/karstieltopia.com\/#\/schema\/person\/3d09a55c38c7c00e78c41fa3f71a6e75\"},\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"http:\/\/karstieltopia.com\/programacion\/javascript\/variables-personalizadas-en-google-analytics\/\"]}]},{\"@type\":\"Person\",\"@id\":\"http:\/\/karstieltopia.com\/#\/schema\/person\/3d09a55c38c7c00e78c41fa3f71a6e75\",\"name\":\"karstiel\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/p6AuIG-6y","_links":{"self":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/406"}],"collection":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/comments?post=406"}],"version-history":[{"count":11,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/406\/revisions"}],"predecessor-version":[{"id":424,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/406\/revisions\/424"}],"wp:attachment":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/media?parent=406"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/categories?post=406"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/tags?post=406"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}