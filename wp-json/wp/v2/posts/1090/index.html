{"id":1090,"date":"2007-06-09T03:42:00","date_gmt":"2007-06-09T03:42:00","guid":{"rendered":"http:\/\/karstieltopia.com\/2007\/06\/09\/pasos-para-migrar-a-wordpress-2-2\/"},"modified":"2016-02-20T23:15:51","modified_gmt":"2016-02-20T23:15:51","slug":"pasos-para-migrar-a-wordpress-2-2","status":"publish","type":"post","link":"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/","title":{"rendered":"Pasos para migrar a WordPress 2.2"},"content":{"rendered":"<p>Bien, ahora que parece que lo de los links ya lo tengo un poco m\u00e1s solucionado, voy a comentaros que pasos he seguido:<\/p>\n<ol><\/p>\n<li>Lo primero, y como deber\u00edais hacer regularmente, he hecho una copia de seguridad tanto de ficheros como de la base de datos.<\/li>\n<p><\/p>\n<li>Acto seguido, me he bajado de <a href=\"http:\/\/wordpress.org\/download\/\">aqu\u00ed<\/a> la \u00faltima versi\u00f3n de WordPress, que a d\u00eda de hoy es la 2.2<\/li>\n<p><\/p>\n<li>C\u00f3mo lo voy a instalar en ingl\u00e9s, lo que hice fue renombrar las tres carpetas que hay en la p\u00e1gina de WordPress (wp-content, wp-admin, wp-includes) para darme m\u00e1s seguridad, aunque realmente solo habr\u00eda que hacerlo con wp-content.<\/li>\n<p><\/p>\n<li>Subir todo el nuevo WordPress salvo la carpeta wp-content.<\/li>\n<p><\/p>\n<li>Una vez subido, pues ale, dejar la carpeta wp-content como estaba.<\/li>\n<p><\/p>\n<li>Entrar en el panel de administraci\u00f3n de vuestra p\u00e1gina y os dir\u00e1 que hay que actualizar<\/li>\n<p><\/p>\n<li>Si todo ha ido bien, perfecto :D<\/li>\n<p><\/ol>\n<p>Y ahora voy yo, que a mi no me fue todo bien :D<\/p>\n<p>Lo primero es que empec\u00e9 a ver errores como del estilo:<\/p>\n<p>SELECT cat_ID FROM wp_categories WHERE category_parent = 0 AND ( category_count = 0 OR link_count != 0 OR ( link_count = 0 AND category_count = 0 ) ) ORDER BY link_count DESC<\/p>\n<p>Con lo cu\u00e1l se me ocurri\u00f3 que algo con la tablas no iba bien y luego me enter\u00e9 que es que en la versi\u00f3n 2.1 de WordPress hab\u00edan cambiado el formato y ahora la tabla wp_categories guardaba todas las categor\u00edas, inclu\u00eddas las de los links.<\/p>\n<p>As\u00ed que lo que ten\u00e9is que hacer, es completar esa tabla, usando para ello el siguiente c\u00f3digo SQL (poniendo la database vuestra):<\/p>\n<p>ALTER TABLE <em>&#8211;database&#8211;<\/em>.wp_categories ADD COLUMN link_count BIGINT(20) NOT NULL DEFAULT 0 AFTER category_count,<br \/>ADD COLUMN posts_private TINYINT(1) NOT NULL DEFAULT 0 AFTER link_count,<br \/>ADD COLUMN links_private TINYINT(1) NOT NULL DEFAULT 0 AFTER posts_private;<br \/>Y ahora toca crear una nueva tabla para que enlace con \u00e9sta, y lo pod\u00e9is hacer con el siguiente c\u00f3digo:<\/p>\n<p>CREATE TABLE `wp_link2cat` (<br \/>`rel_id` BIGINT( 20 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,<br \/>`link_id` BIGINT( 20 ) NOT NULL DEFAULT &#8216;0&#8217;,<br \/>`category_id` BIGINT( 20 ) NOT NULL DEFAULT &#8216;0&#8217;,<br \/>KEY `link_id` (`link_id`,`category_id`)<br \/>) ENGINE = MYISAM AUTO_INCREMENT=32 ;<\/p>\n<p>Con \u00e9sto y un bizcocho, todo volvi\u00f3 a funcionar, \u00a1\u00a1yupi!!<\/p>\n<p>Bueno, todo, todo&#8230; no, hay alg\u00fan plugin que tengo que revisar, pero creo que eso ya lo mirar\u00e9 ma\u00f1ana ;)<\/p>\n<p><strong>M\u00e1s informaci\u00f3n:<\/strong><br \/><a href=\"http:\/\/www.javivicente.com\/2007\/01\/29\/actualizacion-wp-21-ha-desaparecido-wp_link2cat.html\" class=\"broken_link\">http:\/\/www.javivicente.com\/2007\/01\/29\/actualizacion-wp-21-ha-desaparecido-wp_link2cat.html<\/a><br \/><a href=\"http:\/\/wordpress.org\/support\/topic\/101119\">http:\/\/wordpress.org\/support\/topic\/101119<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Bien, ahora que parece que lo de los links ya lo tengo un poco m\u00e1s solucionado, voy a comentaros que pasos he seguido: Lo primero, y como deber\u00edais hacer regularmente, he hecho una copia de seguridad tanto de ficheros como de la base de datos. Acto seguido, me he bajado de aqu\u00ed la \u00faltima versi\u00f3n [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"spay_email":"","jetpack_publicize_message":"","jetpack_is_tweetstorm":false},"categories":[740],"tags":[927,875],"jetpack_featured_media_url":"","jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v15.1.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Pasos para migrar a WordPress 2.2 - Karstieltopia<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Pasos para migrar a WordPress 2.2 - Karstieltopia\" \/>\n<meta property=\"og:description\" content=\"Bien, ahora que parece que lo de los links ya lo tengo un poco m\u00e1s solucionado, voy a comentaros que pasos he seguido: Lo primero, y como deber\u00edais hacer regularmente, he hecho una copia de seguridad tanto de ficheros como de la base de datos. Acto seguido, me he bajado de aqu\u00ed la \u00faltima versi\u00f3n [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/\" \/>\n<meta property=\"og:site_name\" content=\"Karstieltopia\" \/>\n<meta property=\"article:published_time\" content=\"2007-06-09T03:42:00+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2016-02-20T23:15:51+00:00\" \/>\n<meta name=\"twitter:card\" content=\"summary\" \/>\n<meta name=\"twitter:creator\" content=\"@karstiel\" \/>\n<meta name=\"twitter:site\" content=\"@karstiel\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebSite\",\"@id\":\"http:\/\/karstieltopia.com\/#website\",\"url\":\"http:\/\/karstieltopia.com\/\",\"name\":\"Karstieltopia\",\"description\":\"Programaci\\u00f3n, tecnolog\\u00eda y a\\u00f1adidos\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":\"http:\/\/karstieltopia.com\/?s={search_term_string}\",\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"es\"},{\"@type\":\"WebPage\",\"@id\":\"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/#webpage\",\"url\":\"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/\",\"name\":\"Pasos para migrar a WordPress 2.2 - Karstieltopia\",\"isPartOf\":{\"@id\":\"http:\/\/karstieltopia.com\/#website\"},\"datePublished\":\"2007-06-09T03:42:00+00:00\",\"dateModified\":\"2016-02-20T23:15:51+00:00\",\"author\":{\"@id\":\"http:\/\/karstieltopia.com\/#\/schema\/person\/3d09a55c38c7c00e78c41fa3f71a6e75\"},\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"http:\/\/karstieltopia.com\/programacion\/web\/pasos-para-migrar-a-wordpress-2-2\/\"]}]},{\"@type\":\"Person\",\"@id\":\"http:\/\/karstieltopia.com\/#\/schema\/person\/3d09a55c38c7c00e78c41fa3f71a6e75\",\"name\":\"karstiel\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","jetpack_sharing_enabled":true,"jetpack_shortlink":"https:\/\/wp.me\/p6AuIG-hA","_links":{"self":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/1090"}],"collection":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/comments?post=1090"}],"version-history":[{"count":1,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/1090\/revisions"}],"predecessor-version":[{"id":2248,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/posts\/1090\/revisions\/2248"}],"wp:attachment":[{"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/media?parent=1090"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/categories?post=1090"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/karstieltopia.com\/wp-json\/wp\/v2\/tags?post=1090"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}